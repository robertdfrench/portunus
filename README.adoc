== relaydoors
_Like relayd, but with doors._

`relaydoors` is an avant-garde application server inspired by OpenBSD's
https://github.com/openbsd/src/tree/master/usr.sbin/httpd[`relayd`] and heirloom
UNIX
https://developer.ibm.com/technologies/linux/articles/au-spunix-inetd/[`inetd`].
It listens for an incoming networking connection, forwarding the session socket
descriptor over an https://github.com/robertdfrench/revolving-door[illumos door]
to the intended application.  `relaydoors` maps each connected port to a door on
the filesystem provided by the target application.

image:diagrams/startup-and-request-handling.png[]

One goal of `relaydoors` is to facilitate the scaling of single-threaded
applications. Under the `inetd` model, a new process is created to handle every
request. By leveraging doors, `relaydoors` can create a new thread in the
application process only when a new highwater mark of concurrency has been
reached; otherwise, existing threads will be re-used to handle subsequent
requests.

=== Acknowledgements

The social media preview image is
https://www.flickr.com/photos/vergio_graffito/4623002636/[Relay Sonze] by
https://www.flickr.com/photos/vergio_graffito/[Vergio Graffito].
